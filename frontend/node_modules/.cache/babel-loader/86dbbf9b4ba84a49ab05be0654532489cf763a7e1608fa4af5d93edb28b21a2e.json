{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\OneDrive\\\\HTML AND CSS\\\\Documents\\\\GitHub\\\\GAMIFIED-LEARNING-UPDATED-2\\\\frontend\\\\src\\\\components\\\\Chatbot.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_API_URL || 'http://localhost:4000/api';\nexport default function Chatbot() {\n  _s();\n  const [message, setMessage] = useState('');\n  const [history, setHistory] = useState([]);\n  const send = async () => {\n    if (!message.trim()) return;\n    const userMsg = message;\n    setHistory(h => [...h, {\n      who: 'me',\n      text: userMsg\n    }]);\n    setMessage('');\n    try {\n      var _res$data;\n      const res = await axios.post(`${API}/chatbot`, {\n        message: userMsg\n      });\n      const botReply = (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.reply) || 'Sorry, I could not understand that.';\n      setHistory(h => [...h, {\n        who: 'me',\n        text: userMsg\n      }, {\n        who: 'bot',\n        text: botReply\n      }]);\n    } catch (e) {\n      setHistory(h => [...h, {\n        who: 'bot',\n        text: 'Error: Could not reach chatbot.'\n      }]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '1rem',\n      background: '#fff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Chatbot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      style: {\n        width: '100%',\n        height: '200px'\n      },\n      placeholder: \"Type here...\",\n      value: message,\n      onChange: e => setMessage(e.target.value),\n      onKeyDown: e => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n          e.preventDefault();\n          send();\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: send,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1rem'\n      },\n      children: history.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [m.who, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), \" \", m.text]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n_s(Chatbot, \"7wh4bXkgvpeAh+bUC8S8N3E2fv8=\");\n_c = Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","API","process","env","REACT_APP_API_URL","Chatbot","_s","message","setMessage","history","setHistory","send","trim","userMsg","h","who","text","_res$data","res","post","botReply","data","reply","e","style","padding","background","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","placeholder","value","onChange","target","onKeyDown","key","shiftKey","preventDefault","onClick","marginTop","map","m","i","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/OneDrive/HTML AND CSS/Documents/GitHub/GAMIFIED-LEARNING-UPDATED-2/frontend/src/components/Chatbot.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API = process.env.REACT_APP_API_URL || 'http://localhost:4000/api';\r\n\r\nexport default function Chatbot() {\r\n    const [message, setMessage] = useState('');\r\n    const [history, setHistory] = useState([]);\r\n\r\n    const send = async () => {\r\n        if (!message.trim()) return;\r\n        const userMsg = message;\r\n        setHistory(h => [...h, { who: 'me', text: userMsg }]);\r\n        setMessage('');\r\n\r\n        try {\r\n            const res = await axios.post(`${API}/chatbot`, { message: userMsg });\r\n            const botReply = res?.data?.reply || 'Sorry, I could not understand that.';\r\n            setHistory(h => [...h, { who: 'me', text: userMsg }, { who: 'bot', text: botReply }]);\r\n        } catch (e) {\r\n            setHistory(h => [...h, { who: 'bot', text: 'Error: Could not reach chatbot.' }]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '1rem', background: '#fff' }}>\r\n            <h2>Chatbot</h2>\r\n\r\n            <textarea\r\n                style={{ width: '100%', height: '200px' }}\r\n                placeholder=\"Type here...\"\r\n                value={message}\r\n                onChange={e => setMessage(e.target.value)}\r\n                onKeyDown={e => {\r\n                    if (e.key === 'Enter' && !e.shiftKey) {\r\n                        e.preventDefault();\r\n                        send();\r\n                    }\r\n                }}\r\n            />\r\n\r\n            <button onClick={send}>Send</button>\r\n\r\n            <div style={{ marginTop: '1rem' }}>\r\n                {history.map((m, i) => (\r\n                    <div key={i}>\r\n                        <strong>{m.who}:</strong> {m.text}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAExE,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMc,IAAI,GAAG,MAAAA,CAAA,KAAY;IACrB,IAAI,CAACJ,OAAO,CAACK,IAAI,CAAC,CAAC,EAAE;IACrB,MAAMC,OAAO,GAAGN,OAAO;IACvBG,UAAU,CAACI,CAAC,IAAI,CAAC,GAAGA,CAAC,EAAE;MAAEC,GAAG,EAAE,IAAI;MAAEC,IAAI,EAAEH;IAAQ,CAAC,CAAC,CAAC;IACrDL,UAAU,CAAC,EAAE,CAAC;IAEd,IAAI;MAAA,IAAAS,SAAA;MACA,MAAMC,GAAG,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAAC,GAAGlB,GAAG,UAAU,EAAE;QAAEM,OAAO,EAAEM;MAAQ,CAAC,CAAC;MACpE,MAAMO,QAAQ,GAAG,CAAAF,GAAG,aAAHA,GAAG,wBAAAD,SAAA,GAAHC,GAAG,CAAEG,IAAI,cAAAJ,SAAA,uBAATA,SAAA,CAAWK,KAAK,KAAI,qCAAqC;MAC1EZ,UAAU,CAACI,CAAC,IAAI,CAAC,GAAGA,CAAC,EAAE;QAAEC,GAAG,EAAE,IAAI;QAAEC,IAAI,EAAEH;MAAQ,CAAC,EAAE;QAAEE,GAAG,EAAE,KAAK;QAAEC,IAAI,EAAEI;MAAS,CAAC,CAAC,CAAC;IACzF,CAAC,CAAC,OAAOG,CAAC,EAAE;MACRb,UAAU,CAACI,CAAC,IAAI,CAAC,GAAGA,CAAC,EAAE;QAAEC,GAAG,EAAE,KAAK;QAAEC,IAAI,EAAE;MAAkC,CAAC,CAAC,CAAC;IACpF;EACJ,CAAC;EAED,oBACIhB,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,UAAU,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAChD3B,OAAA;MAAA2B,QAAA,EAAI;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEhB/B,OAAA;MACIwB,KAAK,EAAE;QAAEQ,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAQ,CAAE;MAC1CC,WAAW,EAAC,cAAc;MAC1BC,KAAK,EAAE5B,OAAQ;MACf6B,QAAQ,EAAEb,CAAC,IAAIf,UAAU,CAACe,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE;MAC1CG,SAAS,EAAEf,CAAC,IAAI;QACZ,IAAIA,CAAC,CAACgB,GAAG,KAAK,OAAO,IAAI,CAAChB,CAAC,CAACiB,QAAQ,EAAE;UAClCjB,CAAC,CAACkB,cAAc,CAAC,CAAC;UAClB9B,IAAI,CAAC,CAAC;QACV;MACJ;IAAE;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAEF/B,OAAA;MAAQ0C,OAAO,EAAE/B,IAAK;MAAAgB,QAAA,EAAC;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEpC/B,OAAA;MAAKwB,KAAK,EAAE;QAAEmB,SAAS,EAAE;MAAO,CAAE;MAAAhB,QAAA,EAC7BlB,OAAO,CAACmC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBACd9C,OAAA;QAAA2B,QAAA,gBACI3B,OAAA;UAAA2B,QAAA,GAASkB,CAAC,CAAC9B,GAAG,EAAC,GAAC;QAAA;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACc,CAAC,CAAC7B,IAAI;MAAA,GAD3B8B,CAAC;QAAAlB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEN,CACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACzB,EAAA,CA/CuBD,OAAO;AAAA0C,EAAA,GAAP1C,OAAO;AAAA,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}